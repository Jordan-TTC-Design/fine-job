{"version":3,"sources":["webpack:///./src/views/front/Collection.vue","webpack:///./src/views/front/Collection.vue?5916","webpack:///./src/components/helpers/CompanyCollect.vue","webpack:///./src/components/helpers/CompanyCollect.vue?e4f1"],"names":["class","ref","navState","newCollectionFolder","jobCollectionList","folder","index","length","to","id","jobs","src","imageUrl","alt","title","companyCollectionList","company","imagesUrl","logoImageUrl","category","jobList","price","$filters","date","returnJobCollection","returnCompanyCollection","components","UpTopBtn","JobCollect","CompanyCollect","data","allData","jobsList","jobItem","options","companyImagesUrl","job","companyIsCollect","watch","newValue","oldValue","emitter","emit","this","$refs","classList","add","remove","computed","sortJobs","temJobsArray","forEach","item","description","push","sortCompany","temCompanyArray","methods","collectCompany","array","findComapnyJobs","companyName","getOgData","url","$http","get","then","res","products","classifyJobs","catch","err","created","mounted","render","aria-hidden","aria-labelledby","tabindex","type","closeModal","sentCompany","deleteCompanyFromLocal","emits","companyModal","companyCollection","companyJobList","openModal","show","hide","toggleCollectCompany","companyId","checkResult","some","saveCompanyToLocal","Obj","time","Math","floor","Date","now","temData","JSON","stringify","localStorage","setItem","getLocalCompanyStorage","splice","temcompanyCollectionsArray","parse","getItem","$emit","emitOpenCollectModal","companyData","companyInfo","companyCollectModal","on","unmounted","dispose","off"],"mappings":"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","file":"js/chunk-54f6b88d.45ab7b21.js","sourcesContent":["<template>\n  <div class=\"page--py\">\n    <div class=\"container\">\n      <div\n        class=\"d-flex justify-content-center justify-content-lg-start\n        align-items-center mb-6\"\n      >\n        <h3 class=\"section__title ps-3 mb-0 me-6\">收藏</h3>\n        <ul class=\"page__sideNav\">\n          <li\n            ref=\"page__sideNav__item--job\"\n            class=\"page__sideNav__item active putPointer\"\n            @click=\"this.navState = 'job'\"\n          >\n            <p class=\"page__sideNav__item__title\">職位收藏</p>\n          </li>\n          <li\n            ref=\"page__sideNav__item--company\"\n            class=\"page__sideNav__item putPointer\"\n            @click=\"this.navState = 'company'\"\n          >\n            <p class=\"page__sideNav__item__title\">企業收藏</p>\n          </li>\n        </ul>\n      </div>\n      <div ref=\"collectionBoxList--job\" class=\"bg-light p-6 rounded\" v-if=\"navState === 'job'\">\n        <div class=\"row\">\n          <div class=\"col-xl-4 col-md-6 col-12\">\n            <div class=\"collectionBox collectionBox--new\" @click=\"newCollectionFolder\">\n              <div class=\"collectionBox__imgBox\">\n                <div class=\"collectionBox__imgBox__item item--fri\"></div>\n                <div class=\"collectionBox__imgBox__innerBox\">\n                  <div class=\"collectionBox__imgBox__item item--sec\"></div>\n                  <div class=\"collectionBox__imgBox__innerBox__littleBox\">\n                    <div class=\"collectionBox__imgBox__item item--tri\"></div>\n                    <div class=\"collectionBox__imgBox__item item--four\"></div>\n                  </div>\n                </div>\n                <div class=\"collectionBox--new__cover\">\n                  <p class=\"collectionBox--new__newBtn\">\n                    <i class=\"jobIcon bi bi-plus-lg me-2\"></i>新增收藏夾\n                  </p>\n                </div>\n              </div>\n              <div class=\"collectionBox__txtBox\"></div>\n            </div>\n          </div>\n          <template v-for=\"(folder, index) in jobCollectionList\" :key=\"index\">\n            <router-link\n              class=\"col-xl-4 col-md-6 col-12\"\n              v-if=\"jobCollectionList.length > 0\"\n              :to=\"`/collection-folder/${folder.id}`\"\n            >\n              <div class=\"collectionBox\">\n                <div class=\"collectionBox__imgBox\">\n                  <div class=\"collectionBox__imgBox__item item--fri\">\n                    <img\n                      v-if=\"folder.jobs[0]\"\n                      :src=\"folder.jobs[0].imageUrl\"\n                      :alt=\"`職位圖片${index}`\"\n                    />\n                  </div>\n                  <div class=\"collectionBox__imgBox__innerBox\">\n                    <div class=\"collectionBox__imgBox__item item--sec\">\n                      <img\n                        v-if=\"folder.jobs[1]\"\n                        :src=\"folder.jobs[1].imageUrl\"\n                        :alt=\"`職位圖片${index}`\"\n                      />\n                    </div>\n                    <div class=\"collectionBox__imgBox__innerBox__littleBox\">\n                      <div class=\"collectionBox__imgBox__item item--tri\">\n                        <img\n                          v-if=\"folder.jobs[2]\"\n                          :src=\"folder.jobs[2].imageUrl\"\n                          :alt=\"`職位圖片${index}`\"\n                        />\n                      </div>\n                      <div class=\"collectionBox__imgBox__item item--four\">\n                        <img\n                          v-if=\"folder.jobs[3]\"\n                          :src=\"folder.jobs[3].imageUrl\"\n                          :alt=\"`職位圖片${index}`\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"collectionBox__txtBox\">\n                  <p class=\"txtBox__title\">{{ folder.title }}</p>\n                  <p>{{ folder.jobs.length }} 個職位</p>\n                </div>\n              </div>\n            </router-link>\n          </template>\n        </div>\n      </div>\n      <div\n        ref=\"collectionBoxList--company\"\n        class=\"collectionBoxList--company\"\n        v-if=\"navState === 'company'\"\n      >\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <p\n              class=\"text-center text-secondary mt-md-6 mt-2\"\n              v-if=\"companyCollectionList.length === 0\"\n            >\n              尚未關注企業\n            </p>\n          </div>\n          <template v-for=\"(company, index) in companyCollectionList\" :key=\"index\">\n            <div class=\"col-xl-4 col-md-6 col-12\" v-if=\"companyCollectionList.length > 0\">\n              <div class=\"collectionCompanyCard card\">\n                <img\n                  :src=\"company.imagesUrl[0]\"\n                  class=\"card-img-top\"\n                  :alt=\"`${company.title}職位圖片`\"\n                />\n                <div class=\"collectionCompanyCard__companyInfoBox\">\n                  <div class=\"d-flex align-items-center mb-2\">\n                    <div class=\"collectionCompanyCard__companyInfoBox__logoBox me-2\">\n                      <img\n                        class=\"logoBox__logo\"\n                        :src=\"company.logoImageUrl\"\n                        :alt=\"`${company.title}logo`\"\n                      />\n                    </div>\n\n                    <router-link class=\"card__title\" :to=\"`/products-list/company/${company.id}`\">{{\n                      company.title\n                    }}</router-link>\n                  </div>\n                  <div class=\"d-flex justify-content-between flex-xxl-row flex-column\">\n                    <p class=\"subTxt mb-2\">\n                      <span><i class=\"jobIcon--sm me-1 bi bi-building\"></i></span>\n                      {{ company.category }}\n                    </p>\n                    <p class=\"subTxt\">\n                      <span><i class=\"jobIcon--sm me-1 bi bi-people\"></i></span>\n                      目前 {{ company.jobList.length }} 個工作機會\n                    </p>\n                  </div>\n                </div>\n                <router-link\n                  class=\"collectionCompanyCard__Job\"\n                  v-if=\"company.jobList.length > 0\"\n                  :to=\"`/products-list/product/${company.jobList[company.jobList.length - 1].id}`\"\n                >\n                  <div class=\"d-flex justify-content-between align-items-center mb-2\">\n                    <p class=\"collectionCompanyCard__Job__title\">\n                      {{ company.jobList[company.jobList.length - 1].title }}\n                    </p>\n                    <p class=\"jobTag--new\">最新職位招募中</p>\n                  </div>\n                  <div class=\"d-flex justify-content-between\">\n                    <p>{{ company.jobList[company.jobList.length - 1].price }} / 月薪</p>\n                    <p>\n                      {{\n                        $filters.date(\n                          company.jobList[company.jobList.length - 1].options.job.create,\n                        )\n                      }}\n                    </p>\n                  </div>\n                </router-link>\n                <div\n                  v-if=\"company.jobList.length === 0\"\n                  class=\"collectionCompanyCard__Job--unRecruit\"\n                >\n                  <p class=\"text-secondary\">企業目前尚未開啟招募</p>\n                </div>\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"sideBtnBox\">\n    <UpTopBtn />\n  </div>\n  <JobCollect ref=\"jobCollectModal\" @return-job-collection=\"returnJobCollection\" />\n  <CompanyCollect @returnCompanyCollection=\"returnCompanyCollection\" />\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\nimport UpTopBtn from '@/components/helpers/UpTopBtn.vue';\nimport JobCollect from '@/components/helpers/JobCollect.vue';\nimport CompanyCollect from '@/components/helpers/CompanyCollect.vue';\n\nexport default {\n  components: {\n    UpTopBtn,\n    JobCollect,\n    CompanyCollect,\n  },\n  data() {\n    return {\n      allData: [],\n      jobsList: [],\n      navState: 'job',\n      jobItem: {\n        options: {\n          company: {\n            companyImagesUrl: [],\n          },\n          job: {},\n        },\n      },\n      companyCollectionList: [],\n      jobCollectionList: [],\n      companyIsCollect: false,\n    };\n  },\n  watch: {\n    navState(newValue, oldValue) {\n      emitter.emit('spinner-open-bg', 1000);\n      this.$refs[`page__sideNav__item--${newValue}`].classList.add('active');\n      this.$refs[`page__sideNav__item--${oldValue}`].classList.remove('active');\n    },\n  },\n  computed: {\n    sortJobs() {\n      const temJobsArray = [];\n      if (this.allData.length > 1) {\n        this.allData.forEach((item) => {\n          if (item.description === '職位') {\n            temJobsArray.push(item);\n          }\n        });\n      }\n      return temJobsArray;\n    },\n    // 所有企業\n    sortCompany() {\n      const temCompanyArray = [];\n      if (this.allData.length > 1) {\n        this.allData.forEach((item) => {\n          if (item.description === '企業') {\n            temCompanyArray.push(item);\n          }\n        });\n      }\n      return temCompanyArray;\n    },\n  },\n  methods: {\n    collectCompany(item) {\n      emitter.emit('open-collect-company-modal', item);\n    },\n    newCollectionFolder() {\n      emitter.emit('open-creat-collect-modal');\n    },\n    // 取得收藏職位資料\n    returnJobCollection(array) {\n      this.jobCollectionList = array;\n    },\n    returnCompanyCollection(array) {\n      this.companyCollectionList = array;\n    },\n    findComapnyJobs() {\n      this.companyCollectionList.forEach((company) => {\n        this.sortJobs.forEach((job) => {\n          if (company.title === job.options.company.companyName) {\n            company.jobList.push(job);\n          }\n        });\n      });\n    },\n    getOgData() {\n      emitter.emit('spinner-open');\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.allData = [];\n          this.allData = res.data.products;\n          this.classifyJobs();\n          emitter.emit('spinner-close');\n        })\n        .catch((err) => {\n          emitter.emit('spinner-close');\n          emitter.emit('alertMessage-open', err);\n        });\n    },\n    classifyJobs() {\n      emitter.emit('spinner-open');\n      this.allData.forEach((item) => {\n        if (item.description === '職位') {\n          this.jobsList.push(item);\n        }\n      });\n      this.findComapnyJobs();\n      emitter.emit('spinner-close');\n    },\n  },\n  created() {\n    emitter.emit('spinner-open-bg', 1000);\n    this.getOgData();\n  },\n  mounted() {\n    emitter.emit('return-local-collection');\n  },\n};\n</script>\n\n<style lang=\"scss\"></style>\n","import { render } from \"./Collection.vue?vue&type=template&id=f909b078\"\nimport script from \"./Collection.vue?vue&type=script&lang=js\"\nexport * from \"./Collection.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div\n    ref=\"companyCollectModal\"\n    class=\"companyCollectModal modal fade\"\n    id=\"companyCollectModal\"\n    aria-hidden=\"true\"\n    aria-labelledby=\"companyCollectModalLabel\"\n    tabindex=\"-1\"\n  >\n    <div class=\"modal-dialog modal-dialog-centered modal-sm\">\n      <div class=\"modal-content\">\n        <div class=\"modal-body\">\n          <div class=\"d-flex justify-content-between mb-4\">\n            <div>\n              <h3 class=\"section__title--sub mb-2\"><span class=\"title__icon\"></span>取消收藏</h3>\n            </div>\n            <button type=\"button\" class=\"btn-close\" @click=\"closeModal\"></button>\n          </div>\n          <p class=\"text-center mb-4\">請問您確定要取消收藏?</p>\n          <p class=\"text-center mb-6 text-primary\">{{ sentCompany.title }}</p>\n          <div class=\"d-flex\">\n            <button type=\"button\" class=\"btn btn-gray-light me-2 flex-grow-1\" @click=\"closeModal\">\n              返回\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary flex-grow-1\"\n              @click=\"deleteCompanyFromLocal(sentCompany.id)\"\n            >\n              確定\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  emits: ['return-company-collection'],\n  data() {\n    return {\n      companyModal: {},\n      companyCollection: [],\n      sentCompany: {},\n      companyJobList: [],\n    };\n  },\n  methods: {\n    openModal() {\n      this.companyModal.show();\n    },\n    closeModal() {\n      this.companyModal.hide();\n    },\n    // 執行判斷要收藏還是刪除企業\n    toggleCollectCompany(companyId) {\n      const checkResult = this.companyCollection.some((item) => item.id === companyId);\n      if (checkResult === false) {\n        this.saveCompanyToLocal();\n      } else {\n        this.openModal();\n      }\n    },\n    // 收藏企業\n    saveCompanyToLocal() {\n      // 先收集需要的資料\n      const Obj = {\n        title: this.sentCompany.title,\n        id: this.sentCompany.id,\n        category: this.sentCompany.category,\n        logoImageUrl: this.sentCompany.imageUrl,\n        imagesUrl: this.sentCompany.imagesUrl,\n        time: `${Math.floor(Date.now() / 1000)}`,\n        jobList: [],\n      };\n      this.companyCollection.push(Obj);\n      const temData = JSON.stringify(this.companyCollection);\n      localStorage.setItem('fineJob-companyCollection', temData);\n      this.getLocalCompanyStorage();\n    },\n    // 刪除企業\n    deleteCompanyFromLocal(id) {\n      this.companyCollection.forEach((item, index) => {\n        if (item.id === id) {\n          this.companyCollection.splice(index, 1);\n        }\n      });\n      const temData = JSON.stringify(this.companyCollection);\n      localStorage.setItem('fineJob-companyCollection', temData);\n      this.getLocalCompanyStorage();\n      this.closeModal();\n    },\n    // 瀏覽紀錄相關方法\n    // 取得瀏覽紀錄\n    getLocalCompanyStorage() {\n      const temcompanyCollectionsArray = JSON.parse(\n        localStorage.getItem('fineJob-companyCollection'),\n      );\n      if (temcompanyCollectionsArray) {\n        this.companyCollection = temcompanyCollectionsArray;\n      }\n      this.returnCompanyCollection();\n    },\n    returnCompanyCollection() {\n      this.$emit('return-company-collection', this.companyCollection);\n    },\n    // emit監聽\n    emitOpenCollectModal(companyData) {\n      this.sentCompany = companyData.companyInfo;\n      this.companyJobList = companyData.companyJobList;\n      this.toggleCollectCompany(this.sentCompany.id);\n    },\n  },\n  created() {\n    this.getLocalCompanyStorage();\n  },\n  mounted() {\n    this.companyModal = new Modal(this.$refs.companyCollectModal);\n    emitter.on('open-collect-company-modal', this.emitOpenCollectModal);\n  },\n  unmounted() {\n    this.companyModal.dispose();\n    emitter.off('open-collect-company-modal', this.emitOpenCollectModal);\n  },\n};\n</script>\n\n<style lang=\"scss\"></style>\n","import { render } from \"./CompanyCollect.vue?vue&type=template&id=bb32ce5e\"\nimport script from \"./CompanyCollect.vue?vue&type=script&lang=js\"\nexport * from \"./CompanyCollect.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
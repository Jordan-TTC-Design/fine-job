(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d23822c"],{fda9:function(e,t,o){"use strict";o.r(t);o("4de4");var i=o("7a23"),c={class:"page--py"},n={ref:"jobsListContainer",class:"jobsListContainer container"},a={class:"d-flex justify-content-between align-items-center mb-4"},r={class:"section__title ps-3 mb-0"},s={key:0,class:"row"},l={class:"col-lg-6 col-12"},b={class:"jobListBox"},d={class:"d-flex justify-content-between align-items-center ps-3 mb-3"},h={class:"d-flex flex-wrap"},f={key:0,class:"text-primary me-2"},u=Object(i["createVNode"])("span",{class:"text-secondary"},"搜尋條件：",-1),p={class:"text-secondary fw-normal text-nowrap"},j=Object(i["createVNode"])("option",{selected:"",value:"time"},"最新至最舊",-1),g=Object(i["createVNode"])("option",{value:"money"},"薪水高至低",-1),m={ref:"jobList",class:"allJobList"},y={key:0},O={class:"col-lg-6 col-12 d-lg-block d-none"},J={key:1,class:"text-center text-secondary mt-md-6 mt-2"},w={class:"sideBtnBox"};function C(e,t,o,C,v,N){var B=Object(i["resolveComponent"])("JobListCard"),F=Object(i["resolveComponent"])("JobListSideJobBox"),S=Object(i["resolveComponent"])("PagenationModal"),k=Object(i["resolveComponent"])("FilterBtn"),x=Object(i["resolveComponent"])("UpTopBtn"),V=Object(i["resolveComponent"])("JobCollect");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])("div",c,[Object(i["createVNode"])("div",n,[Object(i["createVNode"])("div",a,[Object(i["createVNode"])("h3",r,"職位收藏夾 - "+Object(i["toDisplayString"])(v.jobFolder.title),1),Object(i["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[1]||(t[1]=function(){return N.deleteFolder&&N.deleteFolder.apply(N,arguments)})}," 刪除收藏夾 ")]),v.nowPageJobs.length?(Object(i["openBlock"])(),Object(i["createBlock"])("div",s,[Object(i["createVNode"])("div",l,[Object(i["createVNode"])("div",b,[Object(i["createVNode"])("div",d,[Object(i["createVNode"])("div",h,[""!==v.filterTxt?(Object(i["openBlock"])(),Object(i["createBlock"])("p",f,[u,Object(i["createTextVNode"])(Object(i["toDisplayString"])(v.filterTxt),1)])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])("p",p," 共 "+Object(i["toDisplayString"])(v.jobFolderDetail.length)+" 個職位 ",1)]),Object(i["withDirectives"])(Object(i["createVNode"])("select",{class:"form-select form-select-lg w-auto border-0 text-gray-dark",onChange:t[2]||(t[2]=function(e){return N.changeJobSort(e)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return v.sortWay=e})},[j,g],544),[[i["vModelSelect"],v.sortWay]])]),Object(i["createVNode"])("ul",m,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(v.nowPageJobs,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],{key:e.id},[v.nowPageJobs.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])("li",y,[Object(i["createVNode"])(B,{ref:"jobList__item--".concat(e.id),"job-list-item":e,onSelectJob:N.selectJob,onSearchByJobCategory:N.searchByJobCategory},null,8,["job-list-item","onSelectJob","onSearchByJobCategory"])])):Object(i["createCommentVNode"])("",!0)],64)})),128))],512)])]),Object(i["createVNode"])("div",O,[Object(i["createVNode"])(F,{ref:"jobSelectBox","select-job-item":v.jobItem},null,8,["select-job-item"])])])):Object(i["createCommentVNode"])("",!0),0===v.nowPageJobs.length?(Object(i["openBlock"])(),Object(i["createBlock"])("p",J," 尚未收藏任何職位 ")):Object(i["createCommentVNode"])("",!0)],512),Object(i["createVNode"])(S,{"jobs-list":v.jobFolderDetail,onChangePage:N.changePage},null,8,["jobs-list","onChangePage"])]),Object(i["createVNode"])("div",w,[Object(i["createVNode"])(k,{"tem-filter-data":v.filterData,onSendFilterData:N.filter},null,8,["tem-filter-data","onSendFilterData"]),Object(i["createVNode"])(x)]),Object(i["createVNode"])(V,{ref:"jobCollectModal",onReturnJobCollection:N.returnJobCollection},null,8,["onReturnJobCollection"])],64)}o("159b"),o("a4d3"),o("e01a"),o("99af"),o("4e82");var v=o("cfb9"),N=o("34cf"),B=o("2220"),F=o("8a9c"),S=o("ac2f"),k=o("b936"),x=o("3cac"),V=o("d845"),D=o("171d"),L={components:{PagenationModal:F["a"],JobListCard:S["a"],UpTopBtn:x["a"],FilterBtn:V["a"],JobListSideJobBox:k["a"],JobCollect:D["a"]},data:function(){return{fullWidth:0,fullHeight:0,products:[],jobsList:[],nowPageJobs:[],jobItem:{options:{company:{companyImagesUrl:[]},job:{}}},searchFilterMethods:{},searchByJobCategoryState:!1,pageNumber:1,sortWay:"time",formData:{},filterData:{keyword:"",city:"不限",industryCategory:"不限",jobCategory:"不限",workExp:"不限",education:"不限",workType:"不限",workTime:"不限",salaryLow:null,salaryHight:null,salaryInterView:!1},filterBoxState:!1,filterTxt:"",mountState:!1,swiperNum:1,swiperOption:{autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:this.swiperNum,spaceBetween:"20"},jobCollectionList:[],jobFolder:{},jobFolderDetail:[]}},watch:{fullWidth:function(e){this.swiperNum=e>768?3:e>576?2:1}},computed:{sortCompany:function(){var e=[];return this.products.length>1&&this.products.forEach((function(t){"企業"===t.description&&e.push(t)})),e}},methods:{deleteFolder:function(){v["a"].emit("delete-collect-folder-modal",this.jobFolder.id)},getJobCollect:function(e){this.jobCollectionList=e,this.checkJobCollect()},checkJobCollect:function(){var e=this;this.nowPageJobs.length>0&&this.jobCollectionList.length>0&&this.nowPageJobs.forEach((function(t,o){var i=!1;e.jobCollectionList.forEach((function(e){e.jobs.forEach((function(e){e.id===t.id&&(i=!0)}))})),e.nowPageJobs[o].jobCollectCheck=i}))},openSideFilterBox:function(){this.filterBoxState?this.filterBoxState=!1:this.filterBoxState||(this.filterBoxState=!0)},searchByJobCategory:function(e){this.searchByJobCategoryState=!0;var t="不限",o="不限";this.$router.push("/search/?keyword=".concat(t,"&city=").concat(o,"&jobCategory=").concat(e))},changeJobSort:function(){"time"===this.sortWay?this.jobFolderDetail.sort((function(e,t){return t.options.job.create-e.options.job.create})):"money"===this.sortWay&&this.jobFolderDetail.sort((function(e,t){return t.price-e.price}))},changePage:function(e){this.pageNumber=e,this.getNowPageJobs()},filter:function(e){v["a"].emit("spinner-open"),this.filterData=e,this.getfolderJobs();var t=this.searchFilterMethods.filter(this.jobFolderDetail,this.filterData);this.jobFolderDetail=t,this.changePage(1),v["a"].emit("get-filter-txt"),v["a"].emit("filterBtn-close"),v["a"].emit("spinner-close")},getFilterTxt:function(e){this.filterTxt=e},cleanFilter:function(){this.searchFilterMethods.getFilterData(this.filterData),this.searchFilterMethods.cleanFilter(),this.filterData=this.searchFilterMethods.returnFilter()},selectJob:function(e){var t=this;this.fullWidth>991?!1===this.searchByJobCategoryState&&(this.nowPageJobs.forEach((function(o){o.id===e?(t.jobItem=o,t.$refs["jobList__item--".concat(o.id)].openSelectEffect()):o.id!==e&&t.$refs["jobList__item--".concat(o.id)].closeSelectEffect()})),this.$refs.jobSelectBox.toTop()):this.$router.push("/products-list/product/".concat(e))},selectJobFrist:function(e){var t=this;this.fullWidth>991&&this.nowPageJobs.length>0&&(this.nowPageJobs.forEach((function(o){o.id===e?(t.jobItem=o,t.$refs["jobList__item--".concat(o.id)].openSelectEffect()):o.id!==e&&t.$refs["jobList__item--".concat(o.id)].closeSelectEffect()})),this.$refs.jobSelectBox.toTop())},getNowPageJobs:function(){var e=this,t=[];if(this.jobFolderDetail.length!==[]){var o=10*this.pageNumber-10;this.jobFolderDetail.forEach((function(i,c){o<=c&&c<10*e.pageNumber&&t.push(i)})),document.documentElement.scrollTop=0,this.jobItem=t[0]}this.nowPageJobs=t,this.checkJobCollect(),setTimeout((function(){e.nowPageJobs.length>0&&e.selectJobFrist(e.nowPageJobs[0].id)}),10)},getfolderJobs:function(){var e=this;this.jobFolderDetail=[],this.jobFolder.jobs.forEach((function(t){e.jobsList.forEach((function(o){t.id===o.id&&e.jobFolderDetail.push(o)}))})),this.changeJobSort(),this.changePage(1)},classifyJob:function(){var e=this;this.jobsList=[],this.products.forEach((function(t){if("職位"===t.description){var o=JSON.parse(JSON.stringify(t));e.sortCompany.forEach((function(e){o.options.company.companyName===e.title&&(o.options.company.companyLink=e.id)})),e.jobsList.push(o)}})),this.getfolderJobs()},getOgData:function(){var e=this;v["a"].emit("spinner-open");var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/products/all");this.$http.get(t).then((function(t){e.products=t.data.products,e.classifyJob(),v["a"].emit("spinner-close")})).catch((function(e){v["a"].emit("spinner-close"),v["a"].emit("alertMessage-open",e)}))},returnJobCollection:function(e){var t=this;this.jobCollectionList=e;var o=this.$route.params.id;this.jobCollectionList.forEach((function(e){e.id===o&&(t.jobFolder=JSON.parse(JSON.stringify(e)))})),this.getOgData()}},created:function(){this.formData=B["a"],this.searchFilterMethods=N["a"],v["a"].emit("spinner-open-bg",1e3)},mounted:function(){this.mountState=!0;var e=this;e.fullWidth=window.innerWidth,e.fullHeight=window.innerHeight,window.onresize=function(){e.fullWidth=window.innerWidth,e.fullHeight=window.innerHeight},v["a"].emit("return-local-collection")}};L.render=C;t["default"]=L}}]);
//# sourceMappingURL=chunk-2d23822c.0846e4b9.js.map
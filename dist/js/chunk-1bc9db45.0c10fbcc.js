(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc9db45"],{"346e":function(e,t,o){"use strict";var c=o("7a23"),l={ref:"companyCollectModal",class:"companyCollectModal modal fade",id:"companyCollectModal","aria-hidden":"true","aria-labelledby":"companyCollectModalLabel",tabindex:"-1"},n={class:"modal-dialog modal-dialog-centered modal-sm"},a={class:"modal-content"},i={class:"modal-body"},s=Object(c["createStaticVNode"])('<div class="d-flex justify-content-between mb-4"><div><h3 class="section__title--sub mb-2"><span class="title__icon"></span>取消收藏</h3></div><button type="button" class="btn-close" data-bs-dismiss="companyCollectModal" aria-label="Close"></button></div><p class="text-center mb-4">請問您確定要取消收藏?</p>',2),r={class:"text-center mb-6 text-primary "},d={class:"d-flex"},m=Object(c["createVNode"])("button",{class:"btn btn-gray-light me-2 flex-grow-1","data-bs-toggle":"companyCollectModal","data-bs-dismiss":"companyCollectModal"}," 返回 ",-1);function b(e,t,o,b,p,j){return Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("div",i,[s,Object(c["createVNode"])("p",r,Object(c["toDisplayString"])(p.sentCompany.title),1),Object(c["createVNode"])("div",d,[m,Object(c["createVNode"])("button",{type:"submit",class:"btn btn-primary flex-grow-1",onClick:t[1]||(t[1]=function(e){return j.deleteCompanyFromLocal(p.sentCompany.id)})}," 確定 ")])])])])],512)}o("159b"),o("a434");var p=o("cfb9"),j=o("7c2b"),u=o.n(j),y={emits:["return-company-collection"],data:function(){return{companyModal:{},companyCollection:[],sentCompany:{},companyJobList:[]}},methods:{openModal:function(){this.companyModal.show()},closeModal:function(){this.companyModal.hide()},toggleCollectCompany:function(e){var t=this.companyCollection.some((function(t){return t.id===e}));!1===t?this.saveCompanyToLocal():this.openModal()},saveCompanyToLocal:function(){var e={title:this.sentCompany.title,id:this.sentCompany.id,category:this.sentCompany.category,logoImageUrl:this.sentCompany.imageUrl,imagesUrl:this.sentCompany.imagesUrl,time:"".concat(Math.floor(Date.now()/1e3)),jobList:[]};this.companyCollection.push(e);var t=JSON.stringify(this.companyCollection);localStorage.setItem("fineJob-companyCollection",t),this.getLocalCompanyStorage()},deleteCompanyFromLocal:function(e){var t=this;this.companyCollection.forEach((function(o,c){o.id===e&&t.companyCollection.splice(c,1)}));var o=JSON.stringify(this.companyCollection);localStorage.setItem("fineJob-companyCollection",o),this.getLocalCompanyStorage(),this.closeModal()},getLocalCompanyStorage:function(){var e=JSON.parse(localStorage.getItem("fineJob-companyCollection"));e&&(this.companyCollection=e),this.returnCompanyCollection()},returnCompanyCollection:function(){this.$emit("return-company-collection",this.companyCollection)},emitOpenCollectModal:function(e){this.sentCompany=e.companyInfo,this.companyJobList=e.companyJobList,this.toggleCollectCompany(this.sentCompany.id)}},created:function(){this.getLocalCompanyStorage()},mounted:function(){this.companyModal=new u.a(this.$refs.companyCollectModal),p["a"].on("open-collect-company-modal",this.emitOpenCollectModal)},unmounted:function(){this.companyModal.dispose(),p["a"].off("open-collect-company-modal",this.emitOpenCollectModal)}};y.render=b;t["a"]=y},b91f:function(e,t,o){"use strict";o.r(t);var c=o("7a23"),l={class:"page--py"},n={class:"container"},a={class:"d-flex justify-content-center justify-content-lg-start\n        align-items-center mb-6"},i=Object(c["createVNode"])("h3",{class:"section__title ps-3 mb-0 me-6"},"收藏",-1),s={class:"page__sideNav"},r=Object(c["createVNode"])("p",{class:"page__sideNav__item__title"},"職位收藏",-1),d=Object(c["createVNode"])("p",{class:"page__sideNav__item__title"},"企業收藏",-1),m={key:0,ref:"collectionBoxList--job",class:"bg-light p-6 rounded"},b={class:"row"},p={class:"col-xl-4 col-md-6 col-12"},j=Object(c["createStaticVNode"])('<div class="collectionBox__imgBox"><div class="collectionBox__imgBox__item item--fri"></div><div class="collectionBox__imgBox__innerBox"><div class="collectionBox__imgBox__item item--sec"></div><div class="collectionBox__imgBox__innerBox__littleBox"><div class="collectionBox__imgBox__item item--tri"></div><div class="collectionBox__imgBox__item item--four"></div></div></div><div class="collectionBox--new__cover"><p class="collectionBox--new__newBtn"><i class="jobIcon bi bi-plus-lg me-2"></i>新增收藏夾 </p></div></div><div class="collectionBox__txtBox"></div>',2),u={class:"collectionBox"},y={class:"collectionBox__imgBox"},O={class:"collectionBox__imgBox__item item--fri"},_={class:"collectionBox__imgBox__innerBox"},g={class:"collectionBox__imgBox__item item--sec"},C={class:"collectionBox__imgBox__innerBox__littleBox"},f={class:"collectionBox__imgBox__item item--tri"},v={class:"collectionBox__imgBox__item item--four"},h={class:"collectionBox__txtBox"},B={class:"txtBox__title"},x={key:1,ref:"collectionBoxList--company",class:"collectionBoxList--company"},N={class:"row"},V={class:"col-12"},k={key:0,class:"text-center text-secondary mt-md-6 mt-2"},L={key:0,class:"col-xl-4 col-md-6 col-12"},w={class:"collectionCompanyCard card"},J={class:"collectionCompanyCard__companyInfoBox"},S={class:"d-flex align-items-center mb-2"},M={class:"collectionCompanyCard__companyInfoBox__logoBox me-2"},D={class:"d-flex justify-content-between flex-xxl-row flex-column"},I={class:"subTxt mb-2"},U=Object(c["createVNode"])("span",null,[Object(c["createVNode"])("i",{class:"jobIcon--sm me-1 bi bi-building"})],-1),F={class:"subTxt"},T=Object(c["createVNode"])("span",null,[Object(c["createVNode"])("i",{class:"jobIcon--sm me-1 bi bi-people"})],-1),E={class:"d-flex justify-content-between  align-items-center mb-2"},$={class:"collectionCompanyCard__Job__title"},R=Object(c["createVNode"])("p",{class:"jobTag--new"},"最新職位招募中",-1),P={class:"d-flex justify-content-between"},q={key:1,class:"collectionCompanyCard__Job--unRecruit"},z=Object(c["createVNode"])("p",{class:"text-secondary"},"企業目前尚未開啟招募",-1),A={class:"sideBtnBox"};function G(e,t,o,G,H,K){var Q=this,W=Object(c["resolveComponent"])("router-link"),X=Object(c["resolveComponent"])("UpTopBtn"),Y=Object(c["resolveComponent"])("JobCollect"),Z=Object(c["resolveComponent"])("CompanyCollect");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",l,[Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",a,[i,Object(c["createVNode"])("ul",s,[Object(c["createVNode"])("li",{ref:"page__sideNav__item--job",class:"page__sideNav__item active putPointer",onClick:t[1]||(t[1]=function(e){return Q.navState="job"})},[r],512),Object(c["createVNode"])("li",{ref:"page__sideNav__item--company",class:"page__sideNav__item putPointer",onClick:t[2]||(t[2]=function(e){return Q.navState="company"})},[d],512)])]),"job"===H.navState?(Object(c["openBlock"])(),Object(c["createBlock"])("div",m,[Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",p,[Object(c["createVNode"])("div",{class:"collectionBox collectionBox--new",onClick:t[3]||(t[3]=function(){return K.newCollectionFolder&&K.newCollectionFolder.apply(K,arguments)})},[j])]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(H.jobCollectionList,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:t},[H.jobCollectionList.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(W,{key:0,class:"col-xl-4 col-md-6 col-12",to:"/collection-folder/".concat(e.id)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",y,[Object(c["createVNode"])("div",O,[e.jobs[0]?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:e.jobs[0].imageUrl,alt:"職位圖片".concat(t)},null,8,["src","alt"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",_,[Object(c["createVNode"])("div",g,[e.jobs[1]?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:e.jobs[1].imageUrl,alt:"職位圖片".concat(t)},null,8,["src","alt"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",C,[Object(c["createVNode"])("div",f,[e.jobs[2]?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:e.jobs[2].imageUrl,alt:"職位圖片".concat(t)},null,8,["src","alt"])):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",v,[e.jobs[3]?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:e.jobs[3].imageUrl,alt:"職位圖片".concat(t)},null,8,["src","alt"])):Object(c["createCommentVNode"])("",!0)])])])]),Object(c["createVNode"])("div",h,[Object(c["createVNode"])("p",B,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.jobs.length)+" 個職位",1)])])]})),_:2},1032,["to"])):Object(c["createCommentVNode"])("",!0)],64)})),128))])],512)):Object(c["createCommentVNode"])("",!0),"company"===H.navState?(Object(c["openBlock"])(),Object(c["createBlock"])("div",x,[Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",V,[0===H.companyCollectionList.length?(Object(c["openBlock"])(),Object(c["createBlock"])("p",k," 尚未關注企業 ")):Object(c["createCommentVNode"])("",!0)]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(H.companyCollectionList,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],{key:o},[H.companyCollectionList.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",L,[Object(c["createVNode"])("div",w,[Object(c["createVNode"])("img",{src:t.imagesUrl[0],class:"card-img-top",alt:"".concat(t.title,"職位圖片")},null,8,["src","alt"]),Object(c["createVNode"])("div",J,[Object(c["createVNode"])("div",S,[Object(c["createVNode"])("div",M,[Object(c["createVNode"])("img",{class:"logoBox__logo",src:t.logoImageUrl,alt:"".concat(t.title,"logo")},null,8,["src","alt"])]),Object(c["createVNode"])(W,{class:"card__title",to:"/products-list/company/".concat(t.id)},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.title),1)]})),_:2},1032,["to"])]),Object(c["createVNode"])("div",D,[Object(c["createVNode"])("p",I,[U,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(t.category),1)]),Object(c["createVNode"])("p",F,[T,Object(c["createTextVNode"])(" 目前 "+Object(c["toDisplayString"])(t.jobList.length)+" 個工作機會 ",1)])])]),t.jobList.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])(W,{key:0,class:"collectionCompanyCard__Job",to:"/products-list/product/".concat(t.jobList[t.jobList.length-1].id)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",E,[Object(c["createVNode"])("p",$,Object(c["toDisplayString"])(t.jobList[t.jobList.length-1].title),1),R]),Object(c["createVNode"])("div",P,[Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(t.jobList[t.jobList.length-1].price)+" / 月薪",1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.$filters.date(t.jobList[t.jobList.length-1].options.job.create)),1)])]})),_:2},1032,["to"])):Object(c["createCommentVNode"])("",!0),0===t.jobList.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",q,[z])):Object(c["createCommentVNode"])("",!0)])])):Object(c["createCommentVNode"])("",!0)],64)})),128))])],512)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])("div",A,[Object(c["createVNode"])(X)]),Object(c["createVNode"])(Y,{ref:"JobCollectModal",onReturnJobCollection:K.returnJobCollection},null,8,["onReturnJobCollection"]),Object(c["createVNode"])(Z,{onReturnCompanyCollection:K.returnCompanyCollection},null,8,["onReturnCompanyCollection"])],64)}o("159b"),o("a4d3"),o("e01a"),o("99af");var H=o("cfb9"),K=o("3cac"),Q=o("171d"),W=o("346e"),X={components:{UpTopBtn:K["a"],JobCollect:Q["a"],CompanyCollect:W["a"]},data:function(){return{allData:[],jobsList:[],navState:"job",jobItem:{options:{company:{companyImagesUrl:[]},job:{}}},companyCollectionList:[],jobCollectionList:[],companyIsCollect:!1}},watch:{navState:function(e,t){H["a"].emit("spinner-open-bg",1e3),this.$refs["page__sideNav__item--".concat(e)].classList.add("active"),this.$refs["page__sideNav__item--".concat(t)].classList.remove("active")}},computed:{sortJobs:function(){var e=[];return this.allData.length>1&&this.allData.forEach((function(t){"職位"===t.description&&e.push(t)})),e},sortCompany:function(){var e=[];return this.allData.length>1&&this.allData.forEach((function(t){"企業"===t.description&&e.push(t)})),e}},methods:{collectCompany:function(e){H["a"].emit("open-collect-company-modal",e)},newCollectionFolder:function(){H["a"].emit("open-creat-collect-modal")},returnJobCollection:function(e){this.jobCollectionList=e},returnCompanyCollection:function(e){console.log(e),this.companyCollectionList=e},findComapnyJobs:function(){var e=this;this.companyCollectionList.forEach((function(t){e.sortJobs.forEach((function(e){t.title===e.options.company.companyName&&t.jobList.push(e)}))}))},getOgData:function(){var e=this;H["a"].emit("spinner-open");var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/products/all");this.$http.get(t).then((function(t){e.allData=[],e.allData=t.data.products,e.classifyJobs()})).catch((function(e){console.log(e)})),H["a"].emit("spinner-close")},classifyJobs:function(){var e=this;H["a"].emit("spinner-open"),this.allData.forEach((function(t){"職位"===t.description&&e.jobsList.push(t)})),this.findComapnyJobs(),H["a"].emit("spinner-close")}},created:function(){H["a"].emit("spinner-open-bg",1e3),this.getOgData()},mounted:function(){H["a"].emit("return-local-collection")}};X.render=G;t["default"]=X}}]);
//# sourceMappingURL=chunk-1bc9db45.0c10fbcc.js.map
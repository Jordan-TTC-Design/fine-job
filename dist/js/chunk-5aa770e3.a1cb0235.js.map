{"version":3,"sources":["webpack:///./src/views/front/Front.vue","webpack:///./src/components/front/Cart.vue","webpack:///./src/components/front/Cart.vue?affd","webpack:///./src/views/front/Front.vue?c31f","webpack:///./src/assets/images/header/fineJobLogo-whtie.svg","webpack:///./src/assets/images/header/fineJobMark.svg"],"names":["class","src","alt","aria-current","to","tabindex","aria-labelledby","aria-hidden","ref","id","type","data-bs-dismiss","aria-label","scope","role","colspan","cartList","cart","key","product","title","qty","min","updateCart","price","deleteCartProduct","cartTotal","deleteCart","closeCart","data","modal","cartState","methods","getCart","url","this","$http","get","then","res","carts","final_total","catch","error","console","log","delete","message","item","product_id","put","hide","openCart","show","watch","length","emitter","emit","created","on","mounted","$refs","cartModal","render","components","Cart","module","exports"],"mappings":"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","file":"js/chunk-5aa770e3.a1cb0235.js","sourcesContent":["<template>\n  <Cart></Cart>\n  <header class=\"header--front\">\n    <div class=\"container d-flex justify-content-between\">\n      <h1>\n        <img\n          class=\"header__logo\"\n          src=\"../../assets/images/header/fineJobLogo-whtie.svg\"\n          alt=\"logo\"\n        />\n      </h1>\n      <ul class=\"header__nav\">\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link text-white\" aria-current=\"page\" to=\"/\">首頁</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link text-white\" to=\"/products-list\">優質工作</router-link>\n        </li>\n        <li class=\"nav-item \">\n          <router-link class=\"nav-link text-white\" to=\"/search-list\">搜尋</router-link>\n        </li>\n        <li class=\"nav-item \">\n          <router-link class=\"nav-link text-white\" to=\"/products-list\">收藏</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"d-flex text-white text-decoration-none\" to=\"/add-job\">\n            <div class=\"d-flex align-items-end \">\n              <p class=\"nav-link header__companyBtnBox\">立即刊登職位！</p>\n              <p class=\"nav-link header__companyBtnBox--sm\">為您徵才</p>\n            </div>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n  </header>\n  <!-- 有點不知道分區要不要寫在外元件 -->\n  <div class=\"main py-4 main--bg\">\n    <router-view></router-view>\n  </div>\n  <footer class=\"bg-gray-mid pt-8\">\n    <div class=\"footer--front bg-primary\">\n      <div class=\"container\">\n        <div class=\"row py-7\">\n          <div class=\"col-4\">\n            <div class=\"d-flex align-items-center\">\n              <img\n                class=\"bg-white rounded me-4\"\n                src=\"../../assets/images/header/fineJobMark.svg\"\n                alt=\"\"\n              />\n              <div>\n                <h4 class=\"text-white mb-3\">Fine Job</h4>\n                <p class=\"text-white\">Jordan.ttc.design@gmail.com</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-8\">\n            <ul class=\"d-flex position-reative justify-content-end align-items-center h-100\">\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link text-white\" aria-current=\"page\" to=\"/\"\n                  >首頁</router-link\n                >\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link text-white\" to=\"/products-list\">優質工作</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link text-white\" to=\"/apply-job\">申請職位</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link text-white\" to=\"/add-company\">新建企業</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link text-white\" to=\"/add-job\">新建職位</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link text-white\" to=\"/admin/dashboard/products-list\"\n                  >後台管理</router-link\n                >\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"border-top border-gray-line py-5\">\n        <p class=\"subTxt text-white text-center\">© 2021 Jordan.ttc.design</p>\n      </div>\n    </div>\n  </footer>\n</template>\n<script>\nimport Cart from '@/components/front/Cart.vue';\nimport emitter from '@/components/helpers/emitter';\n\nexport default {\n  components: {\n    Cart,\n  },\n  methods: {\n    openCart() {\n      emitter.emit('open-cart');\n    },\n  },\n  created() {},\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"cartModal\"\n  >\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">購物車</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"cartbox\">\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">產品名稱</th>\n                  <th scope=\"col\">產品數量</th>\n                  <th scope=\"col\">產品價格</th>\n                  <th scope=\"col\">動作</th>\n                </tr>\n              </thead>\n              <tbody>\n                <template v-if=\"cartList\">\n                  <tr v-for=\"cart in cartList\" :key=\"cart.id\">\n                    <td>{{ cart.product.title }}</td>\n                    <td class=\"d-flex\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control w-auto me-1\"\n                        v-model.number=\"cart.qty\"\n                        min=\"1\"\n                      /><button\n                        type=\"button\"\n                        class=\"btn btn-outline-secondary\"\n                        @click=\"updateCart(cart)\"\n                      >\n                        更新購物車\n                      </button>\n                    </td>\n                    <td>{{ cart.product.price * cart.qty }} 元</td>\n                    <td>\n                      <div class=\"btn-group\" role=\"group\">\n                        <button\n                          type=\"button\"\n                          class=\"btn btn-outline-primary\"\n                          @click=\"deleteCartProduct(cart.id)\"\n                        >\n                          移除\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                </template>\n                <template v-else>\n                  <tr>\n                    <td colspan=\"4\">目前購物車沒東西～</td>\n                  </tr>\n                </template>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td>總共 {{ cartTotal }} 元</td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-primary\" @click=\"deleteCart\">\n            清空購物車\n          </button>\n          <router-link\n            to=\"/cart-checkout\"\n            type=\"button\"\n            class=\"btn btn-outline-primary\"\n            @click=\"closeCart\"\n          >\n            結帳\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/components/helpers/emitter';\nimport { Modal } from 'bootstrap';\n\nexport default {\n  data() {\n    return {\n      modal: {},\n      cartList: [],\n      cartTotal: null,\n      cartState: false,\n    };\n  },\n  methods: {\n    getCart() {\n      // emitter.emit('spinner-open');\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          // console.log(res);\n          this.cartList = res.data.data.carts;\n          this.cartTotal = res.data.data.final_total;\n          // emitter.emit('spinner-close');\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteCartProduct(id) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(`${res.data.message}`);\n          this.getCart();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(`${res.data.message}`);\n          this.getCart();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    updateCart(item) {\n      const product = { data: { product_id: item.product.id, qty: item.qty } };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.$http\n        .put(url, product)\n        .then((res) => {\n          console.log(`${res.data.message}`);\n          this.getCart();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    closeCart() {\n      this.modal.hide();\n    },\n    openCart() {\n      this.modal.show();\n    },\n  },\n  watch: {\n    carts() {\n      if (this.carts.length > 0) {\n        this.cartState = true;\n      } else {\n        this.cartState = false;\n      }\n      console.log(this.cartState);\n      emitter.emit('sendCartState', this.cartState);\n    },\n  },\n  created() {\n    emitter.on('get-cart', () => {\n      this.getCart();\n    });\n    emitter.on('close-cart', () => {\n      this.closeCart();\n    });\n    emitter.on('open-cart', () => {\n      this.openCart();\n    });\n  },\n  mounted() {\n    this.getCart();\n    this.modal = new Modal(this.$refs.cartModal);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","import { render } from \"./Cart.vue?vue&type=template&id=612a8f40\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Front.vue?vue&type=template&id=5e4b8800\"\nimport script from \"./Front.vue?vue&type=script&lang=js\"\nexport * from \"./Front.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","module.exports = __webpack_public_path__ + \"img/fineJobLogo-whtie.0ddd6ad0.svg\";","module.exports = __webpack_public_path__ + \"img/fineJobMark.21aff4d2.svg\";"],"sourceRoot":""}
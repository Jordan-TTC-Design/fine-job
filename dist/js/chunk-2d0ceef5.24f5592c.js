(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ceef5"],{6225:function(t,e,o){"use strict";o.r(e);o("4de4");var i=o("7a23"),a={class:"page--py"},c={ref:"recommedJobs",class:"section"},s={class:"container"},n=Object(i["createVNode"])("h3",{class:"section__title ps-3"},"推薦職位",-1),r=Object(i["createVNode"])("div",{class:"swiper-button-prev swiper-custom"},[Object(i["createVNode"])("button",{type:"button",class:"btn btn-lg rounded-circle iconBtnBox"},[Object(i["createVNode"])("i",{class:"bi bi-arrow-left actionIcon"})])],-1),l=Object(i["createVNode"])("div",{class:"swiper-button-next swiper-custom"},[Object(i["createVNode"])("button",{type:"button",class:"btn btn-lg rounded-circle iconBtnBox"},[Object(i["createVNode"])("i",{class:"bi bi-arrow-right actionIcon"})])],-1),b={ref:"jobsListContainer",class:"jobsListContainer container"},h=Object(i["createVNode"])("h3",{class:"section__title ps-3"},"全部職位",-1),d={key:0,class:"ps-3 mb-6 text-primary"},f=Object(i["createVNode"])("span",{class:"text-gray-dark"},"搜尋條件：",-1),u={class:"row"},p={key:0,class:"col-lg-6 col-12"},j={class:"jobListBox"},g={class:"d-flex justify-content-between align-items-center ps-3 mb-3"},m={class:"text-secondary fw-normal  text-nowrap"},y=Object(i["createVNode"])("option",{selected:"",value:"time"},"最新至最舊",-1),w=Object(i["createVNode"])("option",{value:"money"},"薪水高至低",-1),O={ref:"jobList",class:"allJobList"},v={key:0},J={key:1,class:"col-lg-6 col-12 d-lg-block d-none"},B={key:2,class:"col-12 d-flex justify-content-center"},k=Object(i["createVNode"])("img",{class:"img--searchNoJob",src:"https://i.imgur.com/a1OATil.png",alt:""},null,-1),N={class:"sideBtnBox"};function C(t,e,o,C,D,V){var x=Object(i["resolveComponent"])("GoodJobCard"),L=Object(i["resolveComponent"])("swiper-slide"),S=Object(i["resolveComponent"])("swiper"),P=Object(i["resolveComponent"])("JobListCard"),F=Object(i["resolveComponent"])("JobListSideJobBox"),T=Object(i["resolveComponent"])("PagenationModal"),E=Object(i["resolveComponent"])("FilterBtn"),_=Object(i["resolveComponent"])("UpTopBtn"),W=Object(i["resolveComponent"])("JobCollect");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])("div",a,[Object(i["createVNode"])("div",c,[Object(i["createVNode"])("div",s,[n,D.hotJobs.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])(S,{key:0,"slides-per-view":D.swiperNum,"space-between":20,autoplay:D.swiperDetail.autoPlay,pagination:D.swiperDetail.pagination,navigation:D.swiperDetail.navigation},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(D.hotJobs,(function(t){return Object(i["openBlock"])(),Object(i["createBlock"])(L,{key:t.id},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(x,{"good-job":t},null,8,["good-job"])]})),_:2},1024)})),128)),r,l]})),_:1},8,["slides-per-view","autoplay","pagination","navigation"])):Object(i["createCommentVNode"])("",!0)])],512),Object(i["createVNode"])("div",b,[h,""!==D.filterTxt?(Object(i["openBlock"])(),Object(i["createBlock"])("p",d,[f,Object(i["createTextVNode"])(Object(i["toDisplayString"])(D.filterTxt),1)])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])("div",u,[D.jobsList.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])("div",p,[Object(i["createVNode"])("div",j,[Object(i["createVNode"])("div",g,[Object(i["createVNode"])("p",m," 目前共 "+Object(i["toDisplayString"])(D.jobsList.length)+" 個職位 ",1),Object(i["withDirectives"])(Object(i["createVNode"])("select",{class:"form-select form-select-lg w-auto border-0 text-gray-dark",onChange:e[1]||(e[1]=function(t){return V.changeJobSort(t)}),"onUpdate:modelValue":e[2]||(e[2]=function(t){return D.sortWay=t})},[y,w],544),[[i["vModelSelect"],D.sortWay]])]),Object(i["createVNode"])("ul",O,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(D.nowPageJobs,(function(t){return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],{key:t.id},[D.nowPageJobs.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])("li",v,[Object(i["createVNode"])(P,{ref:"jobList__item--".concat(t.id),"job-list-item":t,onSelectJob:V.selectJob,onSearchByJobCategory:V.searchByJobCategory},null,8,["job-list-item","onSelectJob","onSearchByJobCategory"])])):Object(i["createCommentVNode"])("",!0)],64)})),128))],512)])])):Object(i["createCommentVNode"])("",!0),D.jobsList.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])("div",J,[Object(i["createVNode"])(F,{ref:"jobSelectBox","select-job-item":D.jobItem},null,8,["select-job-item"])])):Object(i["createCommentVNode"])("",!0),0===D.jobsList.length?(Object(i["openBlock"])(),Object(i["createBlock"])("div",B,[k])):Object(i["createCommentVNode"])("",!0)])],512),Object(i["createVNode"])(T,{"jobs-list":D.jobsList,onChangePage:V.changePage},null,8,["jobs-list","onChangePage"])]),Object(i["createVNode"])("div",N,[Object(i["createVNode"])(E,{"tem-filter-data":D.filterData,onSendFilterData:V.filter},null,8,["tem-filter-data","onSendFilterData"]),Object(i["createVNode"])(_)]),Object(i["createVNode"])(W,{ref:"JobCollectModal"},null,512)],64)}o("159b"),o("a4d3"),o("e01a"),o("99af"),o("4e82"),o("fb6a"),o("d3b7"),o("6062"),o("3ca3"),o("ddb0");var D=o("cfb9"),V=o("34cf"),x=o("2220"),L=o("8a9c"),S=o("f234"),P=o("ac2f"),F=o("b936"),T=o("90ea"),E=o("a16a"),_=o("3cac"),W=o("d845"),M=o("171d"),I=o("6d3b"),H=o("d17a"),$=o("5dc8"),U=o("8343");I["a"].use([H["a"],$["a"],U["a"]]);var z={components:{PagenationModal:L["a"],GoodJobCard:S["a"],JobListCard:P["a"],Swiper:T["a"],SwiperSlide:E["a"],UpTopBtn:_["a"],FilterBtn:W["a"],JobListSideJobBox:F["a"],JobCollect:M["a"]},data:function(){return{fullWidth:0,fullHeight:0,products:[],jobsList:[],hotJobs:[],nowPageJobs:[],jobItem:{options:{company:{companyImagesUrl:[]},job:{}}},searchFilterMethods:{},searchByJobCategoryState:!1,pageNumber:1,sortWay:"time",formData:{},filterData:{keyword:"",city:"不限",industryCategory:"不限",jobCategory:"不限",workExp:"不限",education:"不限",workType:"不限",workTime:"不限",salaryLow:null,salaryHight:null,salaryInterView:!1},filterBoxState:!1,filterTxt:"",mountState:!1,swiperNum:1,swiperDetail:{autoPlay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:this.swiperNum}}},watch:{fullWidth:function(t){this.swiperNum=t>991.75?3:t>767?2:1}},computed:{sortCompany:function(){var t=[];return this.products.length>1&&this.products.forEach((function(e){"企業"===e.description&&t.push(e)})),t}},methods:{openSideFilterBox:function(){this.filterBoxState?this.filterBoxState=!1:this.filterBoxState||(this.filterBoxState=!0)},searchByJobCategory:function(t){this.searchByJobCategoryState=!0;var e="不限",o="不限";this.$router.push("/search/?keyword=".concat(e,"&city=").concat(o,"&jobCategory=").concat(t))},changeJobSort:function(){"time"===this.sortWay?this.jobsList.sort((function(t,e){return e.options.job.create-t.options.job.create})):"money"===this.sortWay&&this.jobsList.sort((function(t,e){return e.price-t.price}))},changePage:function(t){this.pageNumber=t,this.getNowPageJobs()},filter:function(t){this.filterData=t,D["a"].emit("spinner-open"),this.classifyJob();var e=this.searchFilterMethods.filter(this.jobsList,this.filterData);this.jobsList=e,this.changePage(1),this.getfilterTxt(),D["a"].emit("filterBtn-close"),D["a"].emit("spinner-close")},getfilterTxt:function(){var t=""===this.filterData.keyword?"":"".concat(this.filterData.keyword,"、"),e="不限"===this.filterData.city?"":"".concat(this.filterData.city,"、"),o="不限"===this.filterData.industryCategory?"":"".concat(this.filterData.industryCategory,"、"),i="不限"===this.filterData.jobCategory?"":"".concat(this.filterData.jobCategory,"、"),a="不限"===this.filterData.workExp?"":"".concat(this.filterData.workExp,"、"),c="不限"===this.filterData.education?"":"".concat(this.filterData.education,"、"),s="不限"===this.filterData.workType?"":"".concat(this.filterData.workType,"、"),n="不限"===this.filterData.workTime?"":"".concat(this.filterData.workTime,"、"),r=null===this.filterData.salaryLow?"":"最低薪資".concat(this.filterData.salaryLow,"、"),l=null===this.filterData.salaryHight?"":"最高薪資".concat(this.filterData.salaryHight,"、"),b=!1===this.filterData.salaryInterView?"":"薪資面議、",h=t+e+o+i+a+c+s+n+r+l+b;h.length>1?this.filterTxt=h.slice(0,h.length-1):this.filterTxt=h},cleanFilter:function(){this.searchFilterMethods.getFilterData(this.filterData),this.searchFilterMethods.cleanFilter(),this.filterData=this.searchFilterMethods.returnFilter()},selectJob:function(t){var e=this;this.fullWidth>991?!1===this.searchByJobCategoryState&&(this.nowPageJobs.forEach((function(o){o.id===t?(e.jobItem=o,e.$refs["jobList__item--".concat(o.id)].openSelectEffect()):o.id!==t&&e.$refs["jobList__item--".concat(o.id)].closeSelectEffect()})),this.$refs.jobSelectBox.toTop()):this.$router.push("/products-list/product/".concat(t))},selectJobFrist:function(t){var e=this;this.fullWidth>991&&(this.nowPageJobs.forEach((function(o){o.id===t?(e.jobItem=o,e.$refs["jobList__item--".concat(o.id)].openSelectEffect()):o.id!==t&&e.$refs["jobList__item--".concat(o.id)].closeSelectEffect()})),this.$refs.jobSelectBox.toTop())},getNowPageJobs:function(){var t=this,e=[];if(this.jobsList.length!==[]){var o=10*this.pageNumber-10;this.jobsList.forEach((function(i,a){o<=a&&a<10*t.pageNumber&&e.push(i)})),document.documentElement.scrollTop=0,this.jobItem=e[0]}this.nowPageJobs=e,setTimeout((function(){t.nowPageJobs.length>0&&t.selectJobFrist(t.nowPageJobs[0].id)}),10)},sortHotJobs:function(){var t=this;if(this.hotJobs=[],this.jobsList.length>0){for(var e=this.jobsList.filter((function(t){return 1===t.options.job.promote})),o=new Set([]),i=0;o.size<6;i+=1){var a=Math.floor(Math.random()*e.length);o.add(a)}o.forEach((function(o){t.hotJobs.push(e[o])}))}},classifyJob:function(){var t=this;this.jobsList=[],this.changePage(1),this.products.forEach((function(e){if("職位"===e.description){var o=e;t.sortCompany.forEach((function(t){o.options.company.companyName===t.title&&(o.options.company.companyLink=t.id)})),t.jobsList.push(o)}})),this.changeJobSort(),this.hotJobs.length||this.sortHotJobs(),this.getNowPageJobs()},getOgData:function(){var t=this;D["a"].emit("spinner-open");var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/products/all");this.$http.get(e).then((function(e){t.products=e.data.products,D["a"].emit("spinner-close"),t.classifyJob()})).catch((function(t){console.log(t)}))}},created:function(){this.getOgData(),this.formData=x["a"],this.searchFilterMethods=V["a"],D["a"].emit("spinner-open-bg",1200)},mounted:function(){this.mountState=!0;var t=this;t.fullWidth=window.innerWidth,t.fullHeight=window.innerHeight,window.onresize=function(){t.fullWidth=window.innerWidth,t.fullHeight=window.innerHeight}}};z.render=C;e["default"]=z}}]);
//# sourceMappingURL=chunk-2d0ceef5.24f5592c.js.map
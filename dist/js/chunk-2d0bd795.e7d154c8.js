(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd795"],{"2bc2":function(t,a,e){"use strict";e.r(a);var c=e("7a23"),n={class:"bg-light"},o={class:"container"},l={class:"navbar navbar-expand-lg navbar-light bg-light"},r={class:"container-fluid"},s=Object(c["g"])("Navbar"),i=Object(c["h"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["h"])("span",{class:"navbar-toggler-icon"})],-1),b={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav position-reative"},u={class:"nav-item"},h=Object(c["g"])("首頁"),j={class:"nav-item"},O=Object(c["g"])("全部產品"),p={class:"nav-item"},f=Object(c["g"])("申請職位"),v={class:"nav-item"},g=Object(c["g"])("新建企業"),m={class:"nav-item"},y=Object(c["g"])("新建職位"),C={class:"position-absolute end-0"},k={class:"main py-4"};function x(t,a,e,x,w,_){var K=Object(c["y"])("Cart"),L=Object(c["y"])("router-link"),S=Object(c["y"])("router-view");return Object(c["t"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(K),Object(c["h"])("header",n,[Object(c["h"])("div",o,[Object(c["h"])("nav",l,[Object(c["h"])("div",r,[Object(c["h"])(L,{class:"navbar-brand",to:"/"},{default:Object(c["K"])((function(){return[s]})),_:1}),i,Object(c["h"])("div",b,[Object(c["h"])("ul",d,[Object(c["h"])("li",u,[Object(c["h"])(L,{class:"nav-link","aria-current":"page",to:"/"},{default:Object(c["K"])((function(){return[h]})),_:1})]),Object(c["h"])("li",j,[Object(c["h"])(L,{class:"nav-link",to:"/products-list"},{default:Object(c["K"])((function(){return[O]})),_:1})]),Object(c["h"])("li",p,[Object(c["h"])(L,{class:"nav-link",to:"/apply-job"},{default:Object(c["K"])((function(){return[f]})),_:1})]),Object(c["h"])("li",v,[Object(c["h"])(L,{class:"nav-link",to:"/add-company"},{default:Object(c["K"])((function(){return[g]})),_:1})]),Object(c["h"])("li",m,[Object(c["h"])(L,{class:"nav-link",to:"/add-job"},{default:Object(c["K"])((function(){return[y]})),_:1})]),Object(c["h"])("li",C,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:a[1]||(a[1]=function(){return _.openCart&&_.openCart.apply(_,arguments)})}," 購物車 ")])])])])])])]),Object(c["h"])("div",k,[Object(c["h"])(S)])],64)}var w={class:"modal fade",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"cartModal"},_={class:"modal-dialog modal-lg"},K={class:"modal-content"},L=Object(c["h"])("div",{class:"modal-header"},[Object(c["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"購物車"),Object(c["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),S={class:"modal-body"},q={class:"cartbox"},$={class:"table table-striped"},M=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",{scope:"col"},"產品名稱"),Object(c["h"])("th",{scope:"col"},"產品數量"),Object(c["h"])("th",{scope:"col"},"產品價格"),Object(c["h"])("th",{scope:"col"},"動作")])],-1),N={class:"d-flex"},T={class:"btn-group",role:"group"},B={key:1},J=Object(c["h"])("td",{colspan:"4"},"目前購物車沒東西～",-1),P={class:"modal-footer"},U=Object(c["g"])(" 結帳 ");function V(t,a,e,n,o,l){var r=Object(c["y"])("router-link");return Object(c["t"])(),Object(c["d"])("div",w,[Object(c["h"])("div",_,[Object(c["h"])("div",K,[L,Object(c["h"])("div",S,[Object(c["h"])("div",q,[Object(c["h"])("table",$,[M,Object(c["h"])("tbody",null,[o.cartList?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["x"])(o.cartList,(function(t){return Object(c["t"])(),Object(c["d"])("tr",{key:t.id},[Object(c["h"])("td",null,Object(c["B"])(t.product.title),1),Object(c["h"])("td",N,[Object(c["L"])(Object(c["h"])("input",{type:"number",class:"form-control w-auto me-1","onUpdate:modelValue":function(a){return t.qty=a},min:"1"},null,8,["onUpdate:modelValue"]),[[c["H"],t.qty,void 0,{number:!0}]]),Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(a){return l.updateCart(t)}}," 更新購物車 ",8,["onClick"])]),Object(c["h"])("td",null,Object(c["B"])(t.product.price*t.qty)+" 元",1),Object(c["h"])("td",null,[Object(c["h"])("div",T,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-primary",onClick:function(a){return l.deleteCartProduct(t.id)}}," 移除 ",8,["onClick"])])])])})),128)):(Object(c["t"])(),Object(c["d"])("tr",B,[J]))]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[Object(c["h"])("td",null,"總共 "+Object(c["B"])(o.cartTotal)+" 元",1)])])])])]),Object(c["h"])("div",P,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-primary",onClick:a[1]||(a[1]=function(){return l.deleteCart&&l.deleteCart.apply(l,arguments)})}," 清空購物車 "),Object(c["h"])(r,{to:"/cart-checkout",type:"button",class:"btn btn-outline-primary",onClick:l.closeCart},{default:Object(c["K"])((function(){return[U]})),_:1},8,["onClick"])])])])],512)}e("99af");var H=e("e89f"),z=e("7b17"),A={data:function(){return{modal:{},cartList:[],cartTotal:null,cartState:!1}},methods:{getCart:function(){var t=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/cart");this.$http.get(a).then((function(a){console.log(a),t.cartList=a.data.data.carts,t.cartTotal=a.data.data.final_total})).catch((function(t){console.log(t)}))},deleteCartProduct:function(t){var a=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/cart/").concat(t);this.$http.delete(e).then((function(t){console.log("".concat(t.data.message)),a.getCart()})).catch((function(t){console.log(t)}))},deleteCart:function(){var t=this,a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/carts");this.$http.delete(a).then((function(a){console.log("".concat(a.data.message)),t.getCart()})).catch((function(t){console.log(t)}))},updateCart:function(t){var a=this,e={data:{product_id:t.product.id,qty:t.qty}},c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/cart/").concat(t.id);this.$http.put(c,e).then((function(t){console.log("".concat(t.data.message)),a.getCart()})).catch((function(t){console.log(t)}))},closeCart:function(){this.modal.hide()},openCart:function(){this.modal.show()}},watch:{carts:function(){this.carts.length>0?this.cartState=!0:this.cartState=!1,console.log(this.cartState),H["a"].emit("sendCartState",this.cartState)}},created:function(){var t=this;H["a"].on("get-cart",(function(){t.getCart()})),H["a"].on("close-cart",(function(){t.closeCart()})),H["a"].on("open-cart",(function(){t.openCart()}))},mounted:function(){this.getCart(),this.modal=new z["a"](this.$refs.cartModal)}};A.render=V;var D=A,E={components:{Cart:D},methods:{openCart:function(){H["a"].emit("open-cart")}},created:function(){}};E.render=x;a["default"]=E}}]);
//# sourceMappingURL=chunk-2d0bd795.e7d154c8.js.map
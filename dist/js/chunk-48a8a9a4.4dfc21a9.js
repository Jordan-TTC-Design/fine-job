(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48a8a9a4"],{"95b6":function(e,t,a){"use strict";a("c054")},c054:function(e,t,a){},fbaf:function(e,t,a){"use strict";a.r(t);a("b0c0");var o=a("7a23"),s={class:"admin__subHeader mb-6 box--shadow"},c={class:"container"},i={class:"admin__subNav"},n=Object(o["createVNode"])("li",{class:"d-flex align-items-center"},[Object(o["createVNode"])("h2",{class:"admin__subNav__title"},"應徵管理")],-1),r=Object(o["createVNode"])("p",{class:"admin__subNav__txt me-1"},"新應徵",-1),l={class:"admin__subNav__txt"},p={class:"admin__subNav__item"},d=Object(o["createVNode"])("p",{class:"admin__subNav__txt me-1"},"已同意應徵",-1),b={class:"admin__subNav__txt"},u={class:"container position-relative"},h={class:"row"},m={class:"col-4"},g={key:0,class:"admin-sideList list-group box--shadow"},j=Object(o["createVNode"])("li",{class:"list-group-item d-flex justify-content-between align-items-center bg-white p-3"},[Object(o["createVNode"])("p",{class:"subTxt"},"全部發布中職位"),Object(o["createVNode"])("button",{type:"button",class:"btn"},[Object(o["createVNode"])("i",{class:"bi bi-search"})])],-1),f={class:"sideList__item__title mb-1"},O={class:"sideList__item__subTxt"},_={class:"col-8"},y={class:"candidateList "},N={class:"d-flex justify-content-between align-items-end"},v={class:"d-flex"},w={class:"person__name"},V={class:"person__txt"},L={class:"person__txt"},x={class:"person__txt"},k={class:"person__txt"},D={class:"person__txt"};function C(e,t,a,C,J,I){var B=Object(o["resolveComponent"])("NewProductModal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(B,{ref:"newProductModal",onNewItem:I.newItem},null,8,["onNewItem"]),Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",c,[Object(o["createVNode"])("div",i,[n,Object(o["createVNode"])("li",{class:["admin__subNav__item",{active:"apply-new"===J.applyListCategory}],onClick:t[1]||(t[1]=function(e){return I.changeSideHeader("apply-new")})},[r,Object(o["createVNode"])("p",l,Object(o["toDisplayString"])(J.appliesListList.length),1)],2),Object(o["createVNode"])("li",p,[d,Object(o["createVNode"])("p",b,Object(o["toDisplayString"])(J.appliesListAllowList.length),1)])])])]),Object(o["createVNode"])("div",u,[Object(o["createVNode"])("div",h,[Object(o["createVNode"])("div",m,["apply-new"===J.applyListCategory?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",g,[j,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(J.applyJobs,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e.id,class:"sideList__item list-group-item list-group-item-action",onClick:function(t){return I.selectItem(e.id)}},[Object(o["createVNode"])("p",f,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("p",O,"申請人數："+Object(o["toDisplayString"])(e.applies.length),1)],8,["onClick"])})),128))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",_,[Object(o["createVNode"])("ul",y,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(J.temItem.applies,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e.id,class:"candidateList__person box--shadow"},[Object(o["createVNode"])("div",N,[Object(o["createVNode"])("div",v,[Object(o["createVNode"])("img",{class:"person__personalImg me-3",src:e.user.options.personalImg,alt:e.user.name+"個人求職照片"},null,8,["src","alt"]),Object(o["createVNode"])("div",null,[Object(o["createVNode"])("p",w,Object(o["toDisplayString"])(e.user.name),1),Object(o["createVNode"])("p",V,"目前職位："+Object(o["toDisplayString"])(e.user.options.nowJobName),1),Object(o["createVNode"])("p",L,"學歷："+Object(o["toDisplayString"])(e.user.options.education||"大學"),1),Object(o["createVNode"])("p",x,"工作經驗："+Object(o["toDisplayString"])(e.user.options.workExp||"無工作經驗"),1),Object(o["createVNode"])("p",k,"聯絡電話："+Object(o["toDisplayString"])(e.user.tel),1),Object(o["createVNode"])("p",D,"聯絡Email："+Object(o["toDisplayString"])(e.user.email),1)])]),Object(o["createVNode"])("a",{type:"button",class:"btn btn-outline-primary  text-decoration-underline",href:e.user.options.cvLink,target:"_blank"},"打開履歷",8,["href"])])])})),128))])])])])],64)}var J=a("3835"),I=(a("159b"),a("99af"),a("a4d3"),a("e01a"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("cfb9")),B=a("2220"),S=a("19a2"),E={components:{NewProductModal:S["a"]},data:function(){return{orders:[],pagination:{},products:[],FormData:{},jobCategory:[],applyListCategory:"apply-new",appliesListList:[],jobsList:[],applyJobs:[],appliesListAllowList:[],temItem:{title:"",id:"",applies:[],otherData:{}},newOrder:{},modalName:"",pageNumber:1,tempImgUrl:"https://images.unsplash.com/photo-1622495506073-56b1152a010c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=967&q=80Í"}},methods:{selectItem:function(e){var t=this;"apply-new"===this.applyListCategory&&this.applyJobs.forEach((function(a){a.id===e&&(t.temItem=a)})),console.log(this.temItem),document.documentElement.scrollTop=0},changeSideHeader:function(e){this.applyListCategory=e,"apply-new"===this.applyListCategory&&this.selectItem(this.addJobOrders[0].id)},classifyOrder:function(){var e=this,t=this.orders;t.forEach((function(t){void 0!==t.user.options.pageAction&&"apply-job"===t.user.options.pageAction&&e.appliesListList.push(t)})),this.pagination.has_next?(this.pageNumber+=1,this.getOrder(this.pageNumber)):this.getProductsData()},getOrder:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;I["a"].emit("spinner-open"),this.pageNumber=t;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/admin/orders?page=").concat(t);this.$http.get(a).then((function(t){I["a"].emit("spinner-close"),e.orders=t.data.orders,e.pagination=t.data.pagination,e.classifyOrder()})).catch((function(e){console.log(e)}))},newItem:function(e){I["a"].emit("spinner-open");var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/admin/product");this.$http.post(t,e).then((function(e){console.log(e.data),e.data.success})).catch((function(e){console.log(e)})),I["a"].emit("spinner-close")},deleteOrder:function(e){var t=this;I["a"].emit("spinner-open"),console.log(e);var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/admin/order/").concat(e);this.$http.delete(a).then((function(e){console.log(e),t.getOrder(),I["a"].emit("spinner-close")})).catch((function(e){console.log(e)}))},getProductsData:function(){var e=this;I["a"].emit("spinner-open");var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jordanttcdesign","/products/all");this.$http.get(t).then((function(t){e.products=t.data.products,I["a"].emit("spinner-close"),e.classifyJob()})).catch((function(e){console.log(e)}))},classifyJob:function(){var e=this;this.products.forEach((function(t){if("職位"===t.description){var a=t;e.jobsList.push(a)}})),this.getJobCategory()},getJobCategory:function(){var e=new Set;this.jobsList.forEach((function(t){var a={title:t.title,id:t.id,applies:[],otherData:t};e.add(a)})),this.jobCategory=e,this.classifyApplyJobsList()},classifyApplyJobsList:function(){var e=this;this.appliesListList.forEach((function(t){e.jobCategory.forEach((function(e){e.id===t.user.options.appliedJob&&e.applies.push(t)}))})),this.jobCategory.forEach((function(t){t.applies.length>0&&e.applyJobs.push(t)}));var t=Object(J["a"])(this.applyJobs,1);this.temItem=t[0]}},created:function(){this.FormData=B["a"]},mounted:function(){this.getOrder()}};a("95b6");E.render=C;t["default"]=E}}]);
//# sourceMappingURL=chunk-48a8a9a4.4dfc21a9.js.map
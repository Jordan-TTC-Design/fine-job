{"version":3,"sources":["webpack:///./src/views/front/Front.vue","webpack:///./src/components/front/Cart.vue","webpack:///./src/components/front/Cart.vue?affd","webpack:///./src/views/front/Front.vue?c31f","webpack:///./src/assets/images/header/fineJobLogo-whtie.svg"],"names":["class","src","alt","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","aria-current","to","openCart","tabindex","aria-labelledby","aria-hidden","ref","data-bs-dismiss","scope","role","colspan","cartList","cart","key","product","title","qty","min","updateCart","price","deleteCartProduct","cartTotal","deleteCart","closeCart","data","modal","cartState","methods","getCart","url","this","$http","get","then","res","carts","final_total","catch","error","console","log","delete","message","item","product_id","put","hide","show","watch","length","emitter","emit","created","on","mounted","$refs","cartModal","render","components","Cart","module","exports"],"mappings":"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","file":"js/chunk-275754ad.f3572047.js","sourcesContent":["<template>\n  <Cart></Cart>\n  <header class=\"header--front\">\n    <div class=\"container d-flex justify-content-between\">\n      <h1>\n        <img\n          class=\"header__logo\"\n          src=\"../../assets/images/header/fineJobLogo-whtie.svg\"\n          alt=\"logo\"\n        />\n      </h1>\n      <ul class=\"header__nav\">\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link text-white\" aria-current=\"page\" to=\"/\">首頁</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link text-white\" to=\"/products-list\">優質工作</router-link>\n        </li>\n        <li class=\"nav-item \">\n          <router-link class=\"nav-link text-white\" to=\"/products-list\">搜尋</router-link>\n        </li>\n        <li class=\"nav-item \">\n          <router-link class=\"nav-link text-white\" to=\"/products-list\">收藏</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"d-flex text-white text-decoration-none\" to=\"/add-job\">\n            <div class=\"d-flex align-items-end \">\n              <p class=\"nav-link header__companyBtnBox\">立即刊登職位！</p>\n              <p class=\"nav-link header__companyBtnBox--sm\">為您徵才</p>\n            </div>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n  </header>\n  <!-- 有點不知道分區要不要寫在外元件 -->\n  <div class=\"main py-4 main--bg\">\n    <router-view></router-view>\n  </div>\n  <footer>\n    <div class=\"container\">\n      <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div class=\" container-fluid\">\n          <router-link class=\"navbar-brand\" to=\"/\">Navbar</router-link>\n          <button\n            class=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarNav\"\n            aria-controls=\"navbarNav\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span class=\"navbar-toggler-icon\"></span>\n          </button>\n          <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n            <ul class=\"navbar-nav position-reative\">\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link\" aria-current=\"page\" to=\"/\">首頁</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link\" to=\"/products-list\">全部產品</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link\" to=\"/apply-job\">申請職位</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link\" to=\"/add-company\">新建企業</router-link>\n              </li>\n              <li class=\"nav-item\">\n                <router-link class=\"nav-link\" to=\"/add-job\">新建職位</router-link>\n              </li>\n              <li class=\"position-absolute end-0\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"openCart\">\n                  購物車\n                </button>\n                <!-- 直接使用@click=\"emitter.emit('open-cart')\" 好像不行 -->\n                <!-- <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary\"\n                  @click=\"emitter.emit('open-cart')\"\n                >\n                  購物車\n                </button> -->\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </div>\n  </footer>\n</template>\n<script>\nimport Cart from '@/components/front/Cart.vue';\nimport emitter from '@/components/helpers/emitter';\n\nexport default {\n  components: {\n    Cart,\n  },\n  methods: {\n    openCart() {\n      emitter.emit('open-cart');\n    },\n  },\n  created() {},\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"cartModal\"\n  >\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">購物車</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"cartbox\">\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">產品名稱</th>\n                  <th scope=\"col\">產品數量</th>\n                  <th scope=\"col\">產品價格</th>\n                  <th scope=\"col\">動作</th>\n                </tr>\n              </thead>\n              <tbody>\n                <template v-if=\"cartList\">\n                  <tr v-for=\"cart in cartList\" :key=\"cart.id\">\n                    <td>{{ cart.product.title }}</td>\n                    <td class=\"d-flex\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control w-auto me-1\"\n                        v-model.number=\"cart.qty\"\n                        min=\"1\"\n                      /><button\n                        type=\"button\"\n                        class=\"btn btn-outline-secondary\"\n                        @click=\"updateCart(cart)\"\n                      >\n                        更新購物車\n                      </button>\n                    </td>\n                    <td>{{ cart.product.price * cart.qty }} 元</td>\n                    <td>\n                      <div class=\"btn-group\" role=\"group\">\n                        <button\n                          type=\"button\"\n                          class=\"btn btn-outline-primary\"\n                          @click=\"deleteCartProduct(cart.id)\"\n                        >\n                          移除\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                </template>\n                <template v-else>\n                  <tr>\n                    <td colspan=\"4\">目前購物車沒東西～</td>\n                  </tr>\n                </template>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td>總共 {{ cartTotal }} 元</td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-primary\" @click=\"deleteCart\">\n            清空購物車\n          </button>\n          <router-link\n            to=\"/cart-checkout\"\n            type=\"button\"\n            class=\"btn btn-outline-primary\"\n            @click=\"closeCart\"\n          >\n            結帳\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/components/helpers/emitter';\nimport { Modal } from 'bootstrap';\n\nexport default {\n  data() {\n    return {\n      modal: {},\n      cartList: [],\n      cartTotal: null,\n      cartState: false,\n    };\n  },\n  methods: {\n    getCart() {\n      // emitter.emit('spinner-open');\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          // console.log(res);\n          this.cartList = res.data.data.carts;\n          this.cartTotal = res.data.data.final_total;\n          // emitter.emit('spinner-close');\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteCartProduct(id) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(`${res.data.message}`);\n          this.getCart();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(`${res.data.message}`);\n          this.getCart();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    updateCart(item) {\n      const product = { data: { product_id: item.product.id, qty: item.qty } };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      this.$http\n        .put(url, product)\n        .then((res) => {\n          console.log(`${res.data.message}`);\n          this.getCart();\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    closeCart() {\n      this.modal.hide();\n    },\n    openCart() {\n      this.modal.show();\n    },\n  },\n  watch: {\n    carts() {\n      if (this.carts.length > 0) {\n        this.cartState = true;\n      } else {\n        this.cartState = false;\n      }\n      console.log(this.cartState);\n      emitter.emit('sendCartState', this.cartState);\n    },\n  },\n  created() {\n    emitter.on('get-cart', () => {\n      this.getCart();\n    });\n    emitter.on('close-cart', () => {\n      this.closeCart();\n    });\n    emitter.on('open-cart', () => {\n      this.openCart();\n    });\n  },\n  mounted() {\n    this.getCart();\n    this.modal = new Modal(this.$refs.cartModal);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","import { render } from \"./Cart.vue?vue&type=template&id=612a8f40\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Front.vue?vue&type=template&id=1d05c59d\"\nimport script from \"./Front.vue?vue&type=script&lang=js\"\nexport * from \"./Front.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","module.exports = __webpack_public_path__ + \"img/fineJobLogo-whtie.0ddd6ad0.svg\";"],"sourceRoot":""}